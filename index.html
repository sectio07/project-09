<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LCD Display Arduino - Web Demo</title>
  <style>
    :root{
      --lcd-bg:#0a2b12;
      --lcd-char:#bff7a6;
      --lcd-dark:#06220b;
      --bezel:#222;
      --shadow:0 8px 30px rgba(0,0,0,0.6);
    }
    body{
      font-family:monospace;
      margin:20px;
      background:#000;
      color:#fff;
      text-align:center;
    }

    .lcd{
      display:inline-block;
      width:90%;
      max-width:520px;
      padding:4%;
      border-radius:12px;
      background:linear-gradient(180deg,var(--bezel),#333);
      box-shadow:var(--shadow);
    }
    .screen{
      border-radius:8px;
      background:linear-gradient(180deg,rgba(10,43,18,0.92),rgba(5,30,12,0.95));
      padding:18px 12px;
      border:4px solid rgba(0,0,0,0.25);
    }

    .row{
      display:flex;
      gap:4px;
      margin-bottom:6px;
      justify-content:center;
    }
    .cell{
      flex:1;
      max-width:24px;
      aspect-ratio:2/3;
      display:flex;
      align-items:center;
      justify-content:center;
      color:var(--lcd-char);
      font-size:1.2em;
    }
    .cell.off{color:#254b2f;}

    @media (max-width:600px){
      .cell{
        font-size:0.9em;
        max-width:16px;
      }
      .lcd{
        padding:3%;
      }
    }
  </style>
</head>
<body>
  <h2>Kata Kata Hari Ini</h2>
  <div class="lcd">
    <div class="screen">
      <div id="lcdGrid"></div>
    </div>
  </div>

  <script>
    const CONFIG = {
      cols: 16,
      rows: 2,
      mainText: " halooo marsaaa ", // teks utama yang berjalan
      blinkLine1: "semangat",
      blinkLine2: "kuliahnya"
    };

    const state = {cols:CONFIG.cols, rows:CONFIG.rows, grid:[], interval:null};
    const lcdGridEl = document.getElementById('lcdGrid');

    function makeGrid(cols,rows){
      state.cols=cols; state.rows=rows; state.grid=[];
      lcdGridEl.innerHTML='';
      for(let r=0;r<rows;r++){
        const rowEl=document.createElement('div'); rowEl.className='row';
        const rowArr=[];
        for(let c=0;c<cols;c++){
          const cell=document.createElement('div'); cell.className='cell off'; cell.textContent=' ';
          rowEl.appendChild(cell);
          rowArr.push({el:cell,char:' '});
        }
        lcdGridEl.appendChild(rowEl);
        state.grid.push(rowArr);
      }
    }

    function setChar(r,c,ch){
      if(r<0||r>=state.rows||c<0||c>=state.cols)return;
      const cell=state.grid[r][c];
      cell.char=ch; cell.el.textContent=ch; cell.el.classList.remove('off');
    }

    function clear(){
      for(let r=0;r<state.rows;r++) for(let c=0;c<state.cols;c++){
        const cell=state.grid[r][c]; cell.char=' '; cell.el.textContent=' '; cell.el.classList.add('off');
      }
    }

    function setText(row,col,text){
      for(let i=0;i<text.length;i++){
        if(col+i>=state.cols) break;
        setChar(row,col+i,text[i]);
      }
    }

    function blinkMessage(callback){
      let count=0;
      let visible=true;
      const blinkInterval=setInterval(()=>{
        clear();
        if(visible){
          setText(0,0,CONFIG.blinkLine1);
          setText(1,0,CONFIG.blinkLine2);
        }
        visible=!visible;
        count++;
        if(count>=6){
          clearInterval(blinkInterval);
          if(callback) callback();
        }
      },500);
    }

    function startScroll(){
      const row=0;
      const text=CONFIG.mainText;
      let pos=state.cols;
      if(state.interval){clearInterval(state.interval);}
      state.interval=setInterval(()=>{
        clear();
        const start=Math.max(0,-pos);
        const end=Math.min(text.length,state.cols-pos+text.length);
        for(let i=start;i<end;i++){
          const col=i+pos;
          if(col>=0 && col<state.cols){
            setChar(row,col,text[i]);
          }
        }
        pos--;
        if(pos<-text.length){
          clearInterval(state.interval);
          blinkMessage(startScroll);
        }
      },300);
    }

    makeGrid(state.cols,state.rows);
    startScroll();
  </script>
</body>
</html>
